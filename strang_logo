<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STRANG Unified Logo</title>
    <style>
        @import url('https://fonts.cdnfonts.com/css/din-pro');
        @import url('https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@300;500&display=swap');

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background: #fdfdfd; 
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            position: relative;
        }

        /* --- THE VIRTUAL WORLD (6480x3840) --- */
        /* This container acts as if all 3 screens are one giant canvas. */
        #virtual-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 6480px;  /* 3 * 2160 */
            height: 3840px; /* Native Height */
            
            /* Flexbox centers the logo perfectly in the middle of the 3-screen array */
            display: flex;
            justify-content: center;
            align-items: center;

            /* Smooth movement if you ever animate it, though static for now */
            transition: transform 0s; 
        }

        /* THE LOGO */
        #mega-logo {
            /* Adjust Width: 
               100% = Logo touches far left of Screen 1 and far right of Screen 3 
               33%  = Logo fits almost entirely inside Screen 2 
            */
            width: 60%; 
            height: auto;
            display: block;
        }

        /* --- UI LAYER (Kept from your original code) --- */
        .ui-layer {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: 100;
            pointer-events: none;
        }

        .corner-text {
            position: absolute;
            font-family: "Roboto Mono", monospace;
            font-size: 18px; 
            color: #222222;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-weight: 500;
            display: none; /* Hidden by default, toggled by JS */
        }

        .top-left { top: 30px; left: 30px; }
        .bottom-left { bottom: 30px; left: 30px; }
        .top-right { top: 30px; right: 30px; text-align: right; }
        .bottom-right { bottom: 30px; right: 30px; text-align: right; }

    </style>
</head>
<body>

    <div id="virtual-canvas">
        <img id="mega-logo" src="assets/strang_logo.png" alt="STRANG">
    </div>
    
    <div class="ui-layer">
        <div class="corner-text top-left" id="ui-brand">STRANG.DESIGN</div>
        <div class="corner-text bottom-left" id="ui-city">MIAMI</div>
        <div class="corner-text top-right" id="timer">00:00:00</div>
        <div class="corner-text bottom-right" id="weather">LOADING...</div>
    </div>

<script>
    // --- CONFIGURATION ---
    // NATIVE RESOLUTION of one screen
    const SCREEN_WIDTH = 2160; 

    // 1. POSITIONING LOGIC
    const urlParams = new URLSearchParams(window.location.search);
    const screenID = urlParams.get('screen') || 'center'; 
    const canvas = document.getElementById('virtual-canvas');

    function updateScreenOffset() {
        // We shift the entire 6480px canvas to the left based on which screen we are
        let offsetX = 0;

        if (screenID === 'left')   offsetX = 0;
        if (screenID === 'center') offsetX = -SCREEN_WIDTH;      // -2160px
        if (screenID === 'right')  offsetX = -SCREEN_WIDTH * 2;  // -4320px

        canvas.style.transform = `translateX(${offsetX}px)`;
    }

    // 2. UI LOGIC (Toggle visibility based on screen)
    function setupUI() {
        const brand = document.getElementById('ui-brand');
        const city = document.getElementById('ui-city');
        const timer = document.getElementById('timer');
        const weather = document.getElementById('weather');

        // Reset
        brand.style.display = 'none';
        city.style.display = 'none';
        timer.style.display = 'none';
        weather.style.display = 'none';

        // Left Screen gets Left UI
        if (screenID === 'left') {
            brand.style.display = 'block';
            city.style.display = 'block';
        }
        
        // Right Screen gets Right UI
        if (screenID === 'right') {
            timer.style.display = 'block';
            weather.style.display = 'block';
        }

        // Center gets nothing (clean view of the logo center)
    }

    // 3. DATA FEEDS (Time & Weather)
    function updateTime() {
        const now = new Date();
        const estTime = new Intl.DateTimeFormat('en-US', {
            timeZone: 'America/New_York',
            hour12: false,
            hour: '2-digit', minute: '2-digit', second: '2-digit'
        }).format(now);
        
        document.getElementById('timer').innerText = estTime + ":" + Math.floor(now.getMilliseconds()/100);
        requestAnimationFrame(updateTime);
    }

    async function fetchWeather() {
        try {
            const response = await fetch('https://api.open-meteo.com/v1/forecast?latitude=25.7617&longitude=-80.1918&current_weather=true&temperature_unit=fahrenheit');
            const data = await response.json();
            if (data.current_weather) {
                document.getElementById('weather').innerText = `${Math.round(data.current_weather.temperature)}Â°F`;
            }
        } catch (e) { document.getElementById('weather').innerText = "OFFLINE"; }
    }

    // --- INIT ---
    window.addEventListener('load', () => {
        updateScreenOffset();
        setupUI();
        updateTime();
        fetchWeather();
    });

    // Optional: Handle window resize if testing on desktop (not needed for production signage)
    window.addEventListener('resize', updateScreenOffset);

</script>
</body>
</html>
